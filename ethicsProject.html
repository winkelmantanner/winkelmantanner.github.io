<!DOCTYPE html>
<html lang="en">
  <head>
    <title>Tanner Winkelman Business Ethics Project</title>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js"></script>
    <script type="text/javascript">
      const LESSONS = {

        // Underlying Theories
        1 : {
          questions : [
            {
              'q' : "A trolley is approaching along its track.  If it stays on its track, it will run over five people who are tied down to its track.  If you pull a lever, the trolley will be diverted to another track with only one person tied down.  Which of the following arguments takes a Utilitarian approach to this problem?",
              'a' : [
                "Pull the lever because it is 4 lives better than not pulling the lever.",
                "Don't pull the lever because you should not intervene without permission.",
                "Pull the lever because it would demonstrate a good amount of courage.",
              ],
              'c' : 0,
              'e' : 'Utilitarianism says to maximize net aggregate hapiness.  Saving 5 lives for the cost of 1 life is the better option, so Utilitarianism would obligate you to pull the lever.',
            },
            {
              'q' : "Which of the following arguments takes a Kantian approach to this problem?",
              'a' : [
                "Pull the lever because it is 4 lives better than not pulling the lever.",
                "Don't pull the lever because you should not intervene without permission.",
                "Pull the lever because it would demonstrate a good amount of courage.",
              ],
              'c' : 1,
              'e' : 'Kant says "Act only on that maxim which you can at the same time will become universal law."  A good universal law might be "do not pull levers without permission."',
            },
            {
              'q' : "Which of the following arguments takes a Virtue Ethics approach to this problem?",
              'a' : [
                "Pull the lever because it is 4 lives better than not pulling the lever.",
                "Don't pull the lever because you should not intervene without permission.",
                "Pull the lever because it would demonstrate a good amount of courage.",
              ],
              'c' : 2,
              'e' : 'Courage is one of Aristotle\'s cardinal virtues.  A virtuous person would pull the lever and save the five for the death of one.',
            },
          ],
        },

        // Business
        2 : {
          questions : [
            {
              'q' : "Why might Kantians disapprove of entrepreneurship?",
              'a' : [
                "Entrepreneurs want money.",
                "Entrepreneurs work only for the good of themselves.",
                "Entrepreneurs treat others as a means for making profit.",
              ],
              'c' : 2,
              'e' : 'Kant says to never treat humanity as a means for achieving some goal.',
            },
            {
              'q' : "Based on the results of the \"A Fine is a Price\" study, which of the following is <strong><i>least</i></strong> likely to deter someone from parking in a particular parking lot?",
              'a' : [
                "Leaving a note saying, \"I don't like you parking in this parking lot\"",
                "Leaving an official-looking note saying, \"You will be towed if you are found parked here again.\"",
                "Leaving an official-looking note saying, \"You will be fined $10.00 if you are found here 50 different days.\"",
              ],
              'c' : 2,
              'e' : 'The price of $10.00 for 50 days of parking is very low.',
            },
            {
              'q' : "According to this lecture, why is entrepreneurship dangerous?",
              'a' : [
                "Because the competition may fight to prevent you from taking their niche.",
                "Because life is dangerous.",
                "Because new businesses may succeed or fail.",
              ],
              'c' : 2,
              'e' : '"A new enterprise involves venturing into the unknown, a willingness to take on obstacles—including the possibility of disapproval and mockery—and the possibility of failure." - Steven Hicks',
            },
            {
              'q' : "Many of the Indians (people who lived in North America before Europeans) traded with each other but did not have a currency.  They did NOT engage in ...",
              'a' : [
                "Commerce",
                "Warfare",
                "Farming",
                "Sleeping",
              ],
              'c' : 0,
              'e' : '<u>commerce</u> is the activity of buying and selling, especially on a large scale.  You cannot buy and sell without currency.',
            },
          ],
        },

        3 : {
          questions : [
            {
              'q' : "Fill in the blank<br>\“there is one and only one social responsibility of business–to use its resources and engage in activities designed to increase its _____ so long as it stays within the rules of the game, which is to say, engages in open and free competition without deception or fraud.\”<br>-Milton Friedman",
              'a' : [
                "assets",
                "profits",
                "technology",
                "impact",
              ],
              'c' : 1,
              'e' : 'This is a quote from Friedman\'s article "The Social Responsibility of Business is to Increase Profits" and the word that goes in the blank is profits',
            },
            {
              'q' : "Some business executives decided that it is in the social interest for them to give money to forest restoration in Brazil.  Which of the following best matches Milton Friedman's stance on what they should do?",
              'a' : [
                "The money of the business is to be used to maximize profits, not given to social interests.",
                "They should give business money to the forest restoration initiative.",
              ],
              'c' : 0,
              'e' : 'Friedman says businesses should not spend the money entrusted to them by shareholders and customers on the social interests the executives deem worthy.',
            },
            {
              'q' : "TOMS shoes advertises that for every shoe you buy, a shoe will be given to the poor.  Which of the following best justifies this policy under shareholder theory?",
              'a' : [
                "TOMS gives shoes to the poor because TOMS cares for all people.",
                "TOMS shoes production lines make a lot of deformed shoes that it needs to get rid of.  In order to make space for better shoes, TOMS gives deformed shoes away.",
                "No one can verify that TOMS actually gives this many shoes to the poor, so TOMS can advertise it even though it isn't true.",
                "By advertising this, people will feel that they have done a good deed by choosing TOMS shoes, so people are more likely to by TOMS shoes and thus TOMS will make more profit.",
              ],
              'c' : 3,
              'e' : 'Shareholder theory says that the only social responsibility of business is to maximize profits.',
            },
          ],
        },

        4 : {
          questions : [
            {
              'q' : "Select the most correct statement.",
              'a' : [
                "Every shareholder is a stakeholder.",
                "Every stakeholder is a shareholder.",
              ],
              'c' : 0,
              'e' : 'Shareholder is one kind of stakeholder.',
            },
            {
              'q' : "According to <strong>shareholder</strong> theory, should the business worry about causing traffic congestion?  Why or why not?",
              'a' : [
                "Yes, because the people in the other cars are immediately effected.",
                "Yes, because traffic congestion is a big problem caused by businesses.",
                "No, because worrying about causing traffic congestion would not maximize profits.",
                "No, because being stuck in traffic humbles a person.",
              ],
              'c' : 2,
              'e' : 'Shareholder theory says that the one and only social reponsibility of business is maximizing profits.',
            },
            {
              'q' : "According to <strong>stakeholder</strong> theory, should the business worry about causing traffic congestion?  Why or why not?",
              'a' : [
                "Yes, because the people in the other cars are immediately effected.",
                "Yes, because traffic congestion is a big problem caused by businesses.",
                "No, because worrying about causing traffic congestion would not maximize profits.",
                "No, because being stuck in traffic humbles a person.",
              ],
              'c' : 0,
              'e' : 'A stakeholder is anyone immediately effected by the business\' actions.',
            },
            {
              'q' : "Tradebot is a proprietary, algorithmic trading firm that administers computer systems which trade on the stock market.  Tradebot does not care what happens per second: they care what happens per nanosecond.  Tradebot only runs its trading bots when the employees are in the office, because it is too dangerous to let them trade overnight.  Thus, Tradebot makes a profit by exploiting micro-patterns in the stock market.  They calls these patterns \"trade secrets\" and they do not do internships because they do not want these trade secrets taken elsewhere.  Compared to Edward Freeman, what would Milton Friedman be more likely to say about the way Tradebot makes a profit?",
              'a' : [
                "They are maximizing profits without breaking the rules, so this is valid.",
                "They are effectively exploiting glitches in the systems created by others, so this is wrong.",
              ],
              'c' : 0,
              'e' : 'Friedman says that businesses are to maximize profits so long as they do not break the rules.',
            },
          ],
        },

        5 : {
          questions : [
            {
              'q' : "According to Thomas Carson, what is a lie?",
              'a' : [
                "a deliberate false statement made with the intent to deceive",
                "an expression of what is false",
                "a statement of something that is known to be untrue",
              ],
              'c' : 0,
              'e' : 'Carson defines a lie as a deliberate false statement made with the intent to deceive.',
            },
            {
              'q' : "Which of the following would most likely be considered a lie by Thomas Carson's description of lying?",
              'a' : [
                "Telling your brother you are hungry when you actually are not, because you want him to buy pizza that you will eat later.",
                "Reciting what was taught in class onto the test, even though you doubt that it is true, becuase if you don't you will get a lower grade.",
                "Lying to a murderer to prevent him from killing a victim who is hiding in your house.",
                "Telling yourself to keep going when you are failing a class.",
              ],
              'c' : 0,
              'e' : 'Your brother does not expect you to state falsehood, and you intend to deceive him.',
            },
          ],
        },

        6 : {
          questions : [
            {
              'q' : "Select the choice that makes for the most correct statement when put in the blank.  Compared to the Philippines, the United States has ______________.",
              'a' : [
                "higher average outdoor air temperature",
                "higher minimum wage",
                "higher taxes",
                "higher birth rate",
              ],
              'c' : 1,
              'e' : 'In the US, the minimum wage is between $7 and $10 per hour.  Americans typically start making this much as a teenager.  But many adults make a tenth this much in the Phillipines.  <h3>Minimum wages by nation</h3><img alt="Minimum wage map" src="https://upload.wikimedia.org/wikipedia/commons/thumb/0/0b/Map_of_global_minimum_wages_per_hour_in_USD.svg/863px-Map_of_global_minimum_wages_per_hour_in_USD.svg.png">Source: <a href="https://en.wikipedia.org/wiki/List_of_minimum_wages_by_country">Wikipedia</a><ul><li>The Philippines is a group of tropical islands.</li><li>The Personal Income Tax Rate in the Philippines currently stands at about 35%</li><li>The birth rate in the Philippines (about 3 births per woman) is higher than in the US (1.8 births per woman).</li>',
            },
            {
              'q' : "According to Krugman, who benefits most from global markets?",
              'a' : [
                "American businesses",
                "Third World workers",
                "American governments",
                "Third World governments",
                "Obese feline animals",
              ],
              'c' : 1,
              'e' : 'According to Krugman, “While fat-cat capitalists might benefit from globalization, the biggest beneficiaries are, yes, Third World workers”',
            },
          ],
        },
      };

      // https://stackoverflow.com/questions/979975/how-to-get-the-value-from-the-get-parameters
      function parse_query_string(query) {
        var vars = query.split("&");
        var query_string = {};
        for (var i = 0; i < vars.length; i++) {
          var pair = vars[i].split("=");
          var key = decodeURIComponent(pair[0]);
          var value = decodeURIComponent(pair[1]);
          // If first entry with this name
          if (typeof query_string[key] === "undefined") {
            query_string[key] = decodeURIComponent(value);
          }
        }
        return query_string;
      }

      let lessonID = Number(parse_query_string(window.location.search.substring(1)).lessonID);
      if( LESSONS[lessonID] === undefined ) {
        lessonID = 1;
      }

      function is_correct_answer_revealed(lessonID, question_index, correct_answer_index) {
        const correct_answer_choice_element = document.getElementById(generateAnswerChoiceId(lessonID, question_index, correct_answer_index));
        return correct_answer_choice_element.classList.contains('btn-success');
      }

      function are_all_correct_answers_revealed(lessonID) {
        function reducer(accumulator, next_question, question_index) {
          return accumulator && is_correct_answer_revealed(lessonID, question_index, next_question.c);
        }
        return LESSONS[lessonID].questions.reduce(reducer, true);
      }

      function setupOnClicks(lessonID) {
        questions = LESSONS[lessonID].questions;
        questions.forEach(function(question, question_index) {
          question.a.forEach(function(answer, answer_index) {
            const answerChoiceId = generateAnswerChoiceId(lessonID, question_index, answer_index);
            const questionId = generateQuestionId(lessonID, question_index);
            const is_correct = answer_index === question.c;
            document.getElementById(answerChoiceId).onclick = function(){
              document.getElementById(answerChoiceId).classList.remove('btn-default');
              document.getElementById(answerChoiceId).classList.add('btn-' + (is_correct ? 'success' : 'danger'));
              if(is_correct) {
                document.getElementById(questionId).hidden = false;
              }
              if( are_all_correct_answers_revealed(lessonID) ) {
                document.getElementById('bottomNextLessonButtonContainer').hidden = false;
              }
            }
          });
        });
        document.getElementById('bottomNextLessonButton').onclick = nextLesson;
      }

      function generateQuestionId(lessonID, question_index) {
        return String(lessonID) + ":" + String(question_index);
      }

      function generateAnswerChoiceId(lessonID, question_index, answer_index) {
        return String(lessonID) + ":" + String(question_index) + ":" + String(answer_index);
      }

      function generateLesson(lessonID) {
        material = LESSONS[lessonID].material;
        questions = LESSONS[lessonID].questions;
        let html = "";
        html += '<a id="video1" target="_blank" class="btn btn-info" href="Presentation' + String(lessonID) + '.mp4">LECTURE ' + String(lessonID) + '</a>';
        html += '<hr>';
        html += '<h3>Questions</h3>';
        questions.forEach(function(question, question_index) {
          html += '<h4>';
          html += question.q;
          html += '</h4>';
          html += '<table><tbody>';
          question.a.forEach(function(answer, answer_index) {
            answerChoiceId = generateAnswerChoiceId(lessonID, question_index, answer_index);
            html += '<tr><td><div';
            html += ' id="' + answerChoiceId + '"';
            html += 'class="btn btn-default">';
            html += answer;
            html += '</div></td></tr>';
          });
          html += '</tbody></table>';
          html += '<div hidden="true" id="' + generateQuestionId(lessonID, question_index) + '">';
          html += question.e;
          html += '</div>';
        });
        html += '<div hidden="true" id="bottomNextLessonButtonContainer">';
        html += '<hr>';
        html += '<button id="bottomNextLessonButton">Next Lesson</button>';
        html += '</div>';
        return html;
      }

      function renderLesson(lessonID) {
        document.getElementById("whichLesson").innerHTML = "Lesson " + String(lessonID);
        document.getElementById("content").innerHTML = generateLesson(lessonID);
        setupOnClicks(lessonID);

        const TARGET_REGEX = /lessonID\=\d+/g;
        if( window.location.href.search(TARGET_REGEX) === -1 ) {
          // lessonID param is not in the href
          const delimiter = window.location.href.search(/\?/) === -1 ? '?' : '&';
          const new_href = window.location.href + delimiter + 'lessonID=' + String(lessonID);
          history.pushState('asdf', "qwer", new_href);
        }else{
          // lessonID param is in the href
          history.pushState('asdf', "qwer", window.location.href.replace(TARGET_REGEX, 'lessonID=' + String(lessonID)));
        }
      }

      function previousLesson() {
        if(lessonID > 1) {
          lessonID -= 1;
          renderLesson(lessonID);
        }
      }

      function nextLesson() {
        if(lessonID < Object.keys(LESSONS).length) {
          lessonID += 1;
          renderLesson(lessonID);
        }
      }

      function onLoad() {
        renderLesson(lessonID);
      }
    </script>
  </head>
  <body onLoad="onLoad()">
    <div class="container">
      <h3>Business Ethics Project</h3>
      <button id="previousLessonButton" onClick="previousLesson()">Previous Lesson</button>
      <span id="whichLesson"></span>
      <button id="nextLessonButton" onClick="nextLesson()">Next Lesson</button>
      <hr>
      <div id="content"></div>
    </div>
    <hr>
    <footer>
      <p style="text-align: center;">Tanner Winkelman - Philosophy 3235 Project</p>
    </footer>
  </body>
</html>
